{"ast":null,"code":"import { Component, EventEmitter, Input, Output, ViewChild, forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\nimport { DatepickerConfig } from './datepicker.config';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from './datepicker.config';\nimport * as ɵngcc2 from './datepicker-inner.component';\nimport * as ɵngcc3 from './daypicker.component';\nimport * as ɵngcc4 from './monthpicker.component';\nimport * as ɵngcc5 from './yearpicker.component';\nexport var DATEPICKER_CONTROL_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(function () {\n    return DatePickerComponent;\n  }),\n  multi: true\n};\n/* tslint:disable:component-selector-name component-selector-type */\n\n/* tslint:enable:component-selector-name component-selector-type */\n\nexport var DatePickerComponent = function () {\n  function DatePickerComponent(config) {\n    /** sets datepicker mode, supports: `day`, `month`, `year` */\n    this.datepickerMode = 'day';\n    /** if false week numbers will be hidden */\n\n    this.showWeeks = true;\n    this.selectionDone = new EventEmitter(undefined);\n    /** callback to invoke when the activeDate is changed. */\n\n    this.activeDateChange = new EventEmitter(undefined);\n    this.onChange = Function.prototype;\n    this.onTouched = Function.prototype;\n    this._now = new Date();\n    this.config = config;\n    this.configureOptions();\n  }\n\n  Object.defineProperty(DatePickerComponent.prototype, \"activeDate\", {\n    /** currently active date */\n    get: function () {\n      return this._activeDate || this._now;\n    },\n    set: function (value) {\n      this._activeDate = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  DatePickerComponent.prototype.configureOptions = function () {\n    Object.assign(this, this.config);\n  };\n\n  DatePickerComponent.prototype.onUpdate = function (event) {\n    this.activeDate = event;\n    this.onChange(event);\n  };\n\n  DatePickerComponent.prototype.onSelectionDone = function (event) {\n    this.selectionDone.emit(event);\n  };\n\n  DatePickerComponent.prototype.onActiveDateChange = function (event) {\n    this.activeDateChange.emit(event);\n  }; // todo: support null value\n\n\n  DatePickerComponent.prototype.writeValue = function (value) {\n    if (this._datePicker.compare(value, this._activeDate) === 0) {\n      return;\n    }\n\n    if (value && value instanceof Date) {\n      this.activeDate = value;\n\n      this._datePicker.select(value, false);\n\n      return;\n    }\n\n    this.activeDate = value ? new Date(value) : void 0;\n  };\n\n  DatePickerComponent.prototype.registerOnChange = function (fn) {\n    this.onChange = fn;\n  };\n\n  DatePickerComponent.prototype.registerOnTouched = function (fn) {\n    this.onTouched = fn;\n  };\n  /** @nocollapse */\n\n\n  DatePickerComponent.ctorParameters = function () {\n    return [{\n      type: DatepickerConfig\n    }];\n  };\n\n  DatePickerComponent.propDecorators = {\n    'datepickerMode': [{\n      type: Input\n    }],\n    'initDate': [{\n      type: Input\n    }],\n    'minDate': [{\n      type: Input\n    }],\n    'maxDate': [{\n      type: Input\n    }],\n    'minMode': [{\n      type: Input\n    }],\n    'maxMode': [{\n      type: Input\n    }],\n    'showWeeks': [{\n      type: Input\n    }],\n    'formatDay': [{\n      type: Input\n    }],\n    'formatMonth': [{\n      type: Input\n    }],\n    'formatYear': [{\n      type: Input\n    }],\n    'formatDayHeader': [{\n      type: Input\n    }],\n    'formatDayTitle': [{\n      type: Input\n    }],\n    'formatMonthTitle': [{\n      type: Input\n    }],\n    'startingDay': [{\n      type: Input\n    }],\n    'yearRange': [{\n      type: Input\n    }],\n    'onlyCurrentMonth': [{\n      type: Input\n    }],\n    'shortcutPropagation': [{\n      type: Input\n    }],\n    'monthColLimit': [{\n      type: Input\n    }],\n    'yearColLimit': [{\n      type: Input\n    }],\n    'customClass': [{\n      type: Input\n    }],\n    'dateDisabled': [{\n      type: Input\n    }],\n    'activeDate': [{\n      type: Input\n    }],\n    'selectionDone': [{\n      type: Output\n    }],\n    'activeDateChange': [{\n      type: Output\n    }],\n    '_datePicker': [{\n      type: ViewChild,\n      args: [DatePickerInnerComponent]\n    }]\n  };\n\n  DatePickerComponent.ɵfac = function DatePickerComponent_Factory(t) {\n    return new (t || DatePickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DatepickerConfig));\n  };\n\n  DatePickerComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: DatePickerComponent,\n    selectors: [[\"datepicker\"]],\n    viewQuery: function DatePickerComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(DatePickerInnerComponent, 5);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._datePicker = _t.first);\n      }\n    },\n    inputs: {\n      datepickerMode: \"datepickerMode\",\n      showWeeks: \"showWeeks\",\n      activeDate: \"activeDate\",\n      initDate: \"initDate\",\n      minDate: \"minDate\",\n      maxDate: \"maxDate\",\n      minMode: \"minMode\",\n      maxMode: \"maxMode\",\n      formatDay: \"formatDay\",\n      formatMonth: \"formatMonth\",\n      formatYear: \"formatYear\",\n      formatDayHeader: \"formatDayHeader\",\n      formatDayTitle: \"formatDayTitle\",\n      formatMonthTitle: \"formatMonthTitle\",\n      startingDay: \"startingDay\",\n      yearRange: \"yearRange\",\n      onlyCurrentMonth: \"onlyCurrentMonth\",\n      shortcutPropagation: \"shortcutPropagation\",\n      monthColLimit: \"monthColLimit\",\n      yearColLimit: \"yearColLimit\",\n      customClass: \"customClass\",\n      dateDisabled: \"dateDisabled\"\n    },\n    outputs: {\n      selectionDone: \"selectionDone\",\n      activeDateChange: \"activeDateChange\"\n    },\n    features: [ɵngcc0.ɵɵProvidersFeature([DATEPICKER_CONTROL_VALUE_ACCESSOR])],\n    decls: 4,\n    vars: 22,\n    consts: [[3, \"activeDate\", \"datepickerMode\", \"initDate\", \"minDate\", \"maxDate\", \"minMode\", \"maxMode\", \"showWeeks\", \"formatDay\", \"formatMonth\", \"formatYear\", \"formatDayHeader\", \"formatDayTitle\", \"formatMonthTitle\", \"startingDay\", \"yearRange\", \"customClass\", \"dateDisabled\", \"onlyCurrentMonth\", \"shortcutPropagation\", \"monthColLimit\", \"yearColLimit\", \"update\", \"selectionDone\", \"activeDateChange\"], [\"tabindex\", \"0\"]],\n    template: function DatePickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"datepicker-inner\", 0);\n        ɵngcc0.ɵɵlistener(\"update\", function DatePickerComponent_Template_datepicker_inner_update_0_listener($event) {\n          return ctx.onUpdate($event);\n        })(\"selectionDone\", function DatePickerComponent_Template_datepicker_inner_selectionDone_0_listener($event) {\n          return ctx.onSelectionDone($event);\n        })(\"activeDateChange\", function DatePickerComponent_Template_datepicker_inner_activeDateChange_0_listener($event) {\n          return ctx.onActiveDateChange($event);\n        });\n        ɵngcc0.ɵɵelement(1, \"daypicker\", 1);\n        ɵngcc0.ɵɵelement(2, \"monthpicker\", 1);\n        ɵngcc0.ɵɵelement(3, \"yearpicker\", 1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"activeDate\", ctx.activeDate)(\"datepickerMode\", ctx.datepickerMode)(\"initDate\", ctx.initDate)(\"minDate\", ctx.minDate)(\"maxDate\", ctx.maxDate)(\"minMode\", ctx.minMode)(\"maxMode\", ctx.maxMode)(\"showWeeks\", ctx.showWeeks)(\"formatDay\", ctx.formatDay)(\"formatMonth\", ctx.formatMonth)(\"formatYear\", ctx.formatYear)(\"formatDayHeader\", ctx.formatDayHeader)(\"formatDayTitle\", ctx.formatDayTitle)(\"formatMonthTitle\", ctx.formatMonthTitle)(\"startingDay\", ctx.startingDay)(\"yearRange\", ctx.yearRange)(\"customClass\", ctx.customClass)(\"dateDisabled\", ctx.dateDisabled)(\"onlyCurrentMonth\", ctx.onlyCurrentMonth)(\"shortcutPropagation\", ctx.shortcutPropagation)(\"monthColLimit\", ctx.monthColLimit)(\"yearColLimit\", ctx.yearColLimit);\n      }\n    },\n    directives: [ɵngcc2.DatePickerInnerComponent, ɵngcc3.DayPickerComponent, ɵngcc4.MonthPickerComponent, ɵngcc5.YearPickerComponent],\n    encapsulation: 2\n  });\n\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n\n  return DatePickerComponent;\n}(); //# sourceMappingURL=datepicker.component.js.map","map":null,"metadata":{},"sourceType":"module"}